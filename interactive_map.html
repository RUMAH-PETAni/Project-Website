<!DOCTYPE html>
<html lang="en">

<head>
	<title>RUMAH PETAni/Galeri/Peta Interaktif</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
		integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin="" />
	<link rel="stylesheet" href="css/leaflet-sidepanel.css">
	<link href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" media="screen" rel="stylesheet" type="text/css" />
	<link href="css/frame.css" media="screen" rel="stylesheet" type="text/css" />
	<link href="css/controls.css" media="screen" rel="stylesheet" type="text/css" />
	<link href="css/widgets.css" media="screen" rel="stylesheet" type="text/css" />
	<link href="css/custom.css" media="screen" rel="stylesheet" type="text/css" />
	<link rel="icon" type="image/x-icon" href="assets/icon.png">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700' rel='stylesheet' type='text/css'>
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link href="css/L.switchBasemap.css" media="screen" rel="stylesheet" type="text/css" />


	<style>
		html,
		body {
			margin: 0;
			font-family: Roboto, -apple-system, BlinkMacSystemFont, 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
			height: 100%;
			color: #1f1412;
			/* background-color: #FFB703; */
		}

		body {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}

		.header h1 {
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.header a {
			font-size: 16px;
			color: #199900;
			text-decoration: none;
			margin-left: 24px;
		}

		.header a:hover {
			color: #116600;
			text-decoration: underline;
		}
		
		.header a span {
			margin-left: 4px;
		}

		.header a svg {
			vertical-align: middle;
		}

		#map {
			width: 100%;
			height: 100vh;
			/* border: 1px solid #1f1412; */
		}

		@media all and (min-width: 1024px) {
			#map {
				height: 768px;
				width: 1366px;
			}
		}

		.sidepanel-content {
			font-size: 1rem;
		}

		.sidepanel-content h4 {
			margin-top: 0;
			margin-bottom: 0;
		}

		.sidepanel-content a {
			text-decoration: none;
			font-size: 1rem;
			color: #199900;
			transition: color 0.3s ease-in;
		}

		.sidepanel-content a:hover {
			color: #116600;
			text-decoration: underline;
		}
	</style>
</head>

<body>
	<div class="custom-menu-container2" style="z-index: 9999;">
		<div class="menu">
		  <div class="menu-table flex-row-space-between">
			<div class="logo flex-row-center">
			  <a href="index.html">
				<img src="assets/images/logo.svg">
			  </a>
			</div>
				<div class="custom-dropdown2 large">
				  <a  tabindex="0"><span>Menu</span></a>
				  <div>
					<a href="#"></a>
					<a href="index.html">Beranda</a>
					<a href="activity.html">Aktifitas</a>
					<a class="highlight-text" href="gallery.html">Galeri</a>
				
				</div>
			</div>
		  </div>
		</div>
	</div>
	
	<div id="map">
		<!-- Side Panel left -->
		<div id="mySidepanelLeft" class="sidepanel" aria-label="side panel" aria-hidden="false">
			<div class="sidepanel-inner-wrapper">
				<nav class="sidepanel-tabs-wrapper" aria-label="sidepanel tab navigation">
					<ul class="sidepanel-tabs">
						<li class="sidepanel-tab">
							<a href="#" class="sidebar-tab-link" role="tab" data-tab-link="tab-5">
								<img src="assets/images/layers.png" width="24" height="24" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">	
							</img>
							</a>
						</li>
						<li class="sidepanel-tab">
							<a href="#" class="sidebar-tab-link" role="tab" data-tab-link="tab-2">
								<img src="assets/images/edit.png" width="24" height="24" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">	
								</img>
								</a>
						</li>
						<li class="sidepanel-tab">
							<a href="#" class="sidebar-tab-link" role="tab" data-tab-link="tab-3">
								<img src="assets/images/chart.png" width="24" height="24" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">	
							</img>
							</a>
						</li>
						
						<li class="sidepanel-tab">
							<a href="#" class="sidebar-tab-link" role="tab" data-tab-link="tab-1">
								<img src="assets/images/info.png" width="24" height="24" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">	
							</img>
							</a>
						</li>
					</ul>
				</nav>
				<div class="sidepanel-content-wrapper">
					<div class="sidepanel-content">
						<div class="sidepanel-tab-content" data-tab-content="tab-5">
						
							<h3>Lapisan-Lapisan</h3>
							<hr>
							<br>
							<div class="flex text-medium">
							<label class="switch">
								<input type="checkbox" id="adm_kabkota">
								<span class="slider round"></span>
							  </label>
							  <span>Batas Adm Kab/Kota</span>
							</div>
					
							<div class="flex text-medium">
								<label class="switch">
								  <input type="checkbox" id="fungsi_kawasan">
								  <span class="slider round"></span>
								</label>
								<span>Fungsi Kawasan Hutan</span>
							  </div>
							  <div class="custom-legend noselect" style="width: 210px; margin-top: -5px; margin-left: 20px;" >
								<div class="legend-scale2">
								  <ul class="legend-labels">
									<li><span style="background:#02ad00;"></span>Hutan Lindung</li>
									<li><span style="background:#ffff00;"></span>Hutan Produksi</li>
									<li><span style="background:#8af200;"></span>Hutan Produksi Terbatas</li>
									<li><span style="background:#ad3fff;"></span>Kawasan Pelestarian Alam</li>
								  </ul>
								</div>
							  </div>
							  <div class="flex text-medium">
								<label class="switch">
								  <input type="checkbox" id="kph">
								  <span class="slider round"></span>
								</label>
								<span>Kesatuan Pengelola Hutan</span>
							  </div>		
						
							<p class="text-medium highlight-text">Izin Perhutanan Sosial</p>
						
					
				
							<div class="flex text-medium">
							<label class="switch">
								<input type="checkbox" id="ps_hd">
								<span class="slider round"></span>
							  </label>
							  <span>Hutan Desa</span>
							</div>
							<div class="flex text-medium">
								<label class="switch">
								<input type="checkbox" id="ps_hkm">
								<span class="slider round"></span>
								</label>
								<span>Hutan Kemasyarakatan</span>
							</div>
							<div class="flex text-medium">
							<label class="switch">
								<input type="checkbox" id="ps_htr">
								<span class="slider round"></span>
							  </label>
							  <span>Hutan Tanaman Rakyat</span>
							</div>
							<div class="flex text-medium">
							<label class="switch">
								<input type="checkbox" id="ps_ha">
								<span class="slider round"></span>
							  </label>
							  <span>Hutan Adat</span>
							</div>

							<div class="flex text-medium">
								<label class="switch">
									<input type="checkbox" id="ps_kk">
									<span class="slider round"></span>
								  </label>
								  <span>Kemitraan Kehutanan</span>
								</div>
					
							<p class="text-ssmall">[Sumber data : webgis KLHK]</em></p>
							<hr>
							<div class="flex text-medium">
								<label class="switch">
								  <input type="checkbox">
								  <span class="slider2 round"></span>
								</label>
								<span>*Update Foto Udara </span>
							<div class="flex text-medium">
							  <label class="switch">
								<input type="checkbox">
								<span class="slider2 round"></span>
							  </label>
							  <span>*Lahan Andil Garapan</span>
							</div>
							<div class="flex text-medium">
								<label class="switch">
								  <input type="checkbox" id="fungsi_kawasan">
								  <span class="slider2 round"></span>
								</label>
								<span>*Distribusi Potensi Agroforestri</span>
							  </div>
							  <div class="custom-legend noselect" style="width: 210px; margin-top: -5px; margin-left: 20px;" >
								<div class="legend-scale2">
								  <ul class="legend-labels2">
									<li><span style="background:yellowgreen;"></span>HHBK</li>
									<li><span style="background:yellow;"></span>non HHBK</li>
									<li><span style="background:blue;"></span>Jasa Lingkungan</li>
								  </ul>
								</div>
							  </div>
							<div class="flex text-medium">
								<label class="switch">
								  <input type="checkbox" id="fungsi_kawasan">
								  <span class="slider2 round"></span>
								</label>
								<span>*Monitoring Penanaman</span>
							  </div>
							  <div class="custom-legend noselect" style="width: 210px; margin-top: -5px; margin-left: 20px;" >
								<div class="legend-scale2">
								  <ul class="legend-labels2">
									<li><span style="background:orangered;"></span>MPTS</li>
									<li><span style="background:orange;"></span>non MPTS</li>
								  </ul>
								</div>
							  </div>
								<p class="text-ssmall"><em>*Lapisan tidak tersedia untuk umum</em></p>
							  </div>
							  <hr>
							

							  <p class="text-medium highlight-text">Indikatif Kelas Tutupan Hutan</p>
							
							  <div class="flex text-medium">
							  <label class="switch">
								  <input type="checkbox" id="hcs_forest">
								  <span class="slider round"></span>
								</label>
								<span>Kelas Hutan 2020</span>
							  </div>
							  <div class="custom-legend noselect" style="width: 210px; margin-top: -5px; margin-left: 20px;" >
								<div class="legend-scale2">
								  <ul class="legend-labels">
									<li><span style="background:#C45100; opacity: 0.8;"></span>Kerapatan Tinggi</li>
									<li><span style="background:#FE9200; opacity: 0.6;"></span>Kerapatan Sedang</li>
									<li><span style="background:#FCC400; opacity: 0.4;"></span>Kerapatan Rendah</li>
									<li><span style="background:#DBDF00; opacity: 0.2;"></span>Regenerasi Muda</li>
								  </ul>
								</div>
							  </div>						 
								  <p class="text-ssmall">[Sumber data : Indicative High Carbon Stock Maps 2020]</p>
								  <hr>
							
							
							  <p class="text-medium highlight-text">Monitoring Deforestasi <span>(on process development)</span></p>
							  <div class="flex text-medium">
							  <label class="switch">
								  <input type="checkbox" id="def_21_23">
								  <span class="slider round"></span>
								</label>
								<span>Deforestasi 2021 s.d 2023</span>
							  </div>
							  <div class="custom-legend noselect" style="width: 210px; margin-top: -5px; margin-left: 20px;" >
								<div class="legend-scale2">
								  <ul class="legend-labels">
									<li><span style="background:#73D8FF; "></span>2021</li>
									<li><span style="background:#009CE0; "></span>2022</li>
									<li><span style="background:#0062B1; "></span>2023</li>
								  </ul>
								</div>
							  </div>		
							  <p class="text-medium">*Peringatan Terpadu 2024 :</p>
														
								<div class="flex-row" style="margin-left: -20px;">
									<div class="flex-item flex-item-stretch flex-column">
							  <div class="flex text-medium">
							  <label class="switch">
								<input type="checkbox" id="alert1_24">
								<span class="slider2 round"></span>
							  </label>
							  <span>Januari</span>
							</div>
							  <div class="flex text-medium">
								  <label class="switch">
								  <input type="checkbox" id="alert2_24">
								  <span class="slider2 round"></span>
								  </label>
								  <span>Februari</span>
							  </div>
							  <div class="flex text-medium">
								<label class="switch">
								<input type="checkbox" id="alert3_24">
								<span class="slider2 round"></span>
								</label>
								<span>Maret</span>
								</div>
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert4_24">
									<span class="slider2 round"></span>
									</label>
									<span>April</span>
								</div>
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert5_24">
									<span class="slider2 round"></span>
									</label>
									<span>Mei</span>
								</div>
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert6_24">
									<span class="slider2 round"></span>
									</label>
									<span>Juni</span>
								</div>
								</div>
																
								<div class="flex-item flex-item-stretch flex-column"  style="margin-left: -20px;"> 
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert7_24">
									<span class="slider2 round"></span>
									</label>
									<span>Juli</span>
								</div>
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert8_24">
									<span class="slider2 round"></span>
									</label>
									<span>Agustus</span>
								</div>
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert9_24">
									<span class="slider2 round"></span>
									</label>
									<span>September</span>
								</div>
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert10_24">
									<span class="slider2 round"></span>
									</label>
									<span>Oktober</span>
								</div>
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert11_24">
									<span class="slider2 round"></span>
									</label>
									<span>November</span>
								</div>
								<div class="flex text-medium">
									<label class="switch">
									<input type="checkbox" id="alert12_24">
									<span class="slider2 round"></span>
									</label>
									<span>Desember</span>
								</div>
								</div>
								</div>
							
								<p class="text-ssmall "><em>*Peringatan terpadu adalah peringatan yang menunjukkan titik lokasi dimana telah terindikasi 
									terjadi perubahan tutupan yang terekam melalui tangkapan citra satelit. 
								</em></p>
								  <p class="text-ssmall ">[Sumber data : Global Forest Watch | Data deforestasi dan peringatan terpadu yang ditampilkan pada peta interaktif
									telah dimodifikasi, dengan hanya menampilkan data geolokasi dengan kriteria (luas minimum 0.5 ha dan
									berada pada kelas indikatif tutupan hutan)</p>
								
						</div>
						<div class="sidepanel-tab-content" data-tab-content="tab-2">
							<h3>Edit On Screen</h3>
							<hr>
							<p class="text-medium">Fitur ini belum tersedia, saat ini kami sedang dalam tahap pengembangan aplikasi.</p>
						</div>
						<div class="sidepanel-tab-content" data-tab-content="tab-3">
							<h3>Analisis Data</h3>
							<hr>
							<p class="text-medium">
							Fitur ini belum tersedia, saat ini kami sedang dalam tahap pengembangan aplikasi.</p>
						</div>
					
						<div class="sidepanel-tab-content" data-tab-content="tab-1">
							<h3>Disclaimer</h3>
							<hr>
							<p class="text-medium highlight-text">Peta Interaktif (versi beta)</p>
							<p class="text-medium">
							Data dan informasi yang disajikan pada peta interaktif ini tidak mengikat secara hukum sehingga tidak bisa dijadikan sebagai alat bukti yang sah
								untuk tujuan yang dimaksud harus menggunakan Informasi Geospasial Tematik (Peta) yang telah disahkan oleh pejabat yang berwenang 
								sesuai dengan ketentuan peraturan perundang-undangan yang berlaku.</p>
							
							<p class="text-medium">Peta Interaktif ini hanya menyajikan data dan informasi berdasarkan lokus aktifitas di wilayah Provinsi Lampung.</p>

							<p class="text-medium">Visualisasi data dan informasi geospasial pada peta interaktif dibuat berdasarkan hasil pengumpulan, pengolahan dan analisis dari berbagai sumber dan referensi.
							Untuk informasi lebih lanjut anda dapat <a href="mailto:rmh.petani@gmail.com">menghubungi kami.</a></p>
							<p>&middot RUMAH PETAni &middot</p>
						</div>
					</div>
				</div>
			</div>
			<div class="sidepanel-toggle-container">
				<button class="sidepanel-toggle-button" type="button" aria-label="toggle side panel"></button>
			</div>
		</div>
	</div>

	<!-- Scripts -->
	<script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
		crossorigin=""></script>
	<script src="js/leaflet-sidepanel.min.js"></script>
	<script src="js/L.switchBasemap.js"></script>
	<script src="js/leaflet-bing-layer.js"></script>
	<script src="https://unpkg.com/leaflet.vectorgrid@latest/dist/Leaflet.VectorGrid.bundled.js"></script>
	<script src="https://unpkg.com/leaflet.vectorgrid@latest/dist/Leaflet.VectorGrid.js"></script>
	<script src="https://github.com/ellipsis-drive/ellipsis-js-util/releases/download/1.1.0/ellipsis-js-util-1.1.0.js"></script>
	<script src="https://github.com/ellipsis-drive/leaflet-package/releases/download/3.1.0/leaflet-ellipsis-3.1.0.js"></script>
	<script src="data/wp_kph.js"></script>
	<script src="data/wp_hd.js"></script>
	<script src="data/wp_hkm.js"></script>
	<script src="data/wp_htr.js"></script>
	<script src="data/kk_wp.js"></script>
	
	<script>
		const map = L.map("map", {
			zoomControl: false
		}).setView([-4.917867, 105.020628], 8);
		L.control.scale({
			position: 'topleft',
			imperial: false
		}).addTo(map);
		L.control.zoom({
			position: 'bottomright'
		}).addTo(map);
		var BING_KEY = 'AuhiCJHlGzhg93IqUH_oCpl_-ZUrIE6SPftlyGYUvr9Amx5nzA-WqGcPquyFZl4L'
		L.basemapsSwitcher([
		{
			layer: L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
			attribution: '',
			maxZoom: 18,
			id: 'mapbox/streets-v11',
        	tileSize: 512,
        	zoomOffset: -1,
        	accessToken: 'pk.eyJ1IjoiZHV0Y2hqZWxseSIsImEiOiJja3Y0MXhsajc0ZHE3Mm5zNzhucTJiZXhmIn0.7UQPvzDakKqhRAUrUEQmxg'
			}).addTo(map), //DEFAULT MAP
			icon: './assets/images/img1.png',
			name: ''
		},
		{
			// layer: L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}.png',{
			layer:	L.tileLayer.bing(BING_KEY),
			// detectRetina: true,
			// attribution: ''z
			// }),
			icon: './assets/images/img2.png',
			name: ''
		},
		{
			layer: L.tileLayer('http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
			attribution: ''
			}),
			icon: './assets/images/img3.png',
			name: ''
		},
		], { position: 'bottomleft' }).addTo(map);

		var adm_kabkota = L.tileLayer.wms('https://aws.simontini.id/geoserver/wms', {
        layers: 'administrative_boundaries',
        transparent: true,
        format: 'image/png'
    	});
		$('#adm_kabkota:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(adm_kabkota);
           
        } else {
            map.removeLayer(adm_kabkota);
        }
   		});
			

		var fungsi_kawasan = L.tileLayer.wms('https://aws.simontini.id/geoserver/wms', {
        layers: 'simontini:Forest_estate_adm',
        transparent: true,
        format: 'image/png'
    	});
		$('#fungsi_kawasan:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(fungsi_kawasan);
        } else {
            map.removeLayer(fungsi_kawasan);
        }
   		});

		// var url = 'https://api.ellipsis-drive.com/v3/ogc/mvt/ec1b03ed-b0e8-400d-9839-f59f2a539e20/{z}/{x}/{y}?timestampId=fcda79f4-969e-4bcc-b164-4c18b96efe97&token=epat_pNTavio6Ow65qj3ggPpT3hvWSDKGMmDOX3HDDBm31x4ndGg0CV8bb3TVPY3ixj8D';
		// var kph = L.vectorGrid.protobuf(url);
		// $('#kph:checkbox').on('change', function() {
        // var checkbox = $(this);
        // // toggle the layer
        // if ($(checkbox).is(':checked')) {
        //     map.addLayer(kph);
        // } else {
        //     map.removeLayer(kph);
        // }
   		// });

		var hcs_forest = L.tileLayer('https://api.ellipsis-drive.com/v3/path/40f37759-d00d-49a8-afa0-5271118668fe/raster/timestamp/47db79b2-25bd-4693-a555-090b01d17596/tile/{z}/{x}/{y}?style=5112e188-cece-4eca-9a71-0ce02a44b11d&token=epat_OhrhPEYs0koLJvyEVjKertQc3YxbaFLweCmGLcxXs6Zjjqpvrf1wtX0hxePHINdN', {
			attribution: ''
			});
		$('#hcs_forest:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(hcs_forest);
        } else {
            map.removeLayer(hcs_forest);
        }
   		});

		   


		var kphIcon = L.icon({
        	iconUrl: "data/kphicon.png",
            iconSize:     [40, 40], // size of the icon
            popupAnchor:  [-3, -3] // point from which the popup should open relative to the iconAnchor
            });

		var kph = L.geoJSON(wpkph_json, {
		pointToLayer: function (feature, latlng) {
		feature.properties.myKey = feature.properties.JENIS_KPH + ', ' + feature.properties.ORGANISASI + ', ' + feature.properties.UNIT_KPH
    	return L.marker(latlng, {icon: kphIcon})
		},
		onEachFeature: function(feature, layer){
            layer.bindPopup("<b>Jenis KPH: </b>" + feature.properties.JENIS_KPH + '<br>' + "<b>Organisasi: </b>"+ feature.properties.ORGANISASI);
        }
    	});
		$('#kph:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(kph);
        } else {
            map.removeLayer(kph);
        }
   		});

		   var psIcon = L.icon({
        	iconUrl: "data/psicon.png",
            iconSize:     [20, 20], // size of the icon
            popupAnchor:  [-3, 0] // point from which the popup should open relative to the iconAnchor
            });

		var hkm = L.geoJSON(wphkm_json, {
		pointToLayer: function (feature, latlng) {
		feature.properties.myKey = feature.properties.SKEMA + ', ' + feature.properties.LEMBAGA 
    	return L.marker(latlng, {icon: psIcon})
		},
		onEachFeature: function(feature, layer){
            layer.bindPopup("<b>Skema PS: </b>" + feature.properties.SKEMA + '<br>' + "<b>Lembaga: </b>"+ feature.properties.LEMBAGA);
        }
    	});
		$('#ps_hkm:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(hkm);
        } else {
            map.removeLayer(hkm);
        }
   		});

		
		   var hd = L.geoJSON(wphd_json, {
		pointToLayer: function (feature, latlng) {
		feature.properties.myKey = feature.properties.SKEMA + ', ' + feature.properties.LEMBAGA 
    	return L.marker(latlng, {icon: psIcon})
		},
		onEachFeature: function(feature, layer){
            layer.bindPopup("<b>Skema PS: </b>" + feature.properties.SKEMA + '<br>' + "<b>Lembaga: </b>"+ feature.properties.LEMBAGA);
        }
    	});
		$('#ps_hd:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(hd);
        } else {
            map.removeLayer(hd);
        }
   		});

		   var htr = L.geoJSON(wphtr_json, {
		pointToLayer: function (feature, latlng) {
		feature.properties.myKey = feature.properties.SKEMA + ', ' + feature.properties.LEMBAGA 
    	return L.marker(latlng, {icon: psIcon})
		},
		onEachFeature: function(feature, layer){
            layer.bindPopup("<b>Skema PS: </b>" + feature.properties.SKEMA + '<br>' + "<b>Lembaga: </b>"+ feature.properties.LEMBAGA);
        }
    	});
		$('#ps_htr:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(htr);
        } else {
            map.removeLayer(htr);
        }
   		});

		var kk = L.geoJSON(kkwp_json, {
		pointToLayer: function (feature, latlng) {
		feature.properties.myKey = feature.properties.SKEMA + ', ' + feature.properties.LEMBAGA 
    	return L.marker(latlng, {icon: psIcon})
		},
		onEachFeature: function(feature, layer){
            layer.bindPopup("<b>Skema PS: </b>" + feature.properties.SKEMA + '<br>' + "<b>Lembaga: </b>"+ feature.properties.LEMBAGA);
        }
    	});
		$('#ps_kk:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(kk);
        } else {
            map.removeLayer(kk);
        }
   		});

	
		var def = L.tileLayer('https://api.ellipsis-drive.com/v3/path/71f0cada-82cb-4fa8-97e7-29b7a40f5415/raster/timestamp/8e4edcc7-8e86-4358-8bc7-cfa3c3a8df03/tile/{z}/{x}/{y}?style=4ec12f33-6b56-430d-bc8e-392d83696817&token=epat_hlnD5LP1Q6foP0du6P2TktJU3H7Q1fYEbZk3RDyGqENPNHp6qaPPunmN1te1FrcF', {
		attribution: '',
		zIndex: 999
		
		});
		$('#def_21_23:checkbox').on('change', function() {
        var checkbox = $(this);
        // toggle the layer
        if ($(checkbox).is(':checked')) {
            map.addLayer(def);
        } else {
            map.removeLayer(def);
        }
   		});



		
		const sidepanelLeft = L.control.sidepanel('mySidepanelLeft', {
			tabsPosition: 'left',
			startTab: 'tab-5'
		}).addTo(map);
		const sidepanelRight = L.control.sidepanel('mySidepanelRight', {
			panelPosition: 'right',
			tabsPosition: 'top',
			pushControls: true,
			darkMode: true,
			startTab: 2
		}).addTo(map);
		
	</script>
</body>
</html>